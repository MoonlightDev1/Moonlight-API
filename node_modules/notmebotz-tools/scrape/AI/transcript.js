  const fs = require("fs");
  const Groq = require("groq-sdk");

  const groq = new Groq({
    apiKey: "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"
  });

  async function transcript(prompt, audpath, lang) {
    try {
      const response = await groq.audio.transcriptions.create({
        file: fs.createReadStream(audpath),
        model: "whisper-large-v3",
        prompt: prompt,
        response_format: "json",
        language: lang,
        temperature: 0.0,
      });

      return {
        author: "Herza",
        status: 200,
        data: response,
      };
    } catch (error) {
      return {
        author: "Herza",
        status: 500,
        error: error.message,
      };
    }
  }

  module.exports = { transcript };
