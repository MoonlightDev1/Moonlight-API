const axios = require("axios");
const cheerio = require("cheerio");

async function savepin(url) {
  try {
    const { data } = await axios.get(url);
    const $ = cheerio.load(data);
    const imgSrc = $("img").first().attr("src") || null;
    return {
      author: "Herza",
      status: 200,
      result: imgSrc,
    };
  } catch {
    return { author: "Herza", status: 500, url, result: null };
  }
}

module.exports = { savepin }